---
log_classification: U115
log_title: Subquery in FROM must have an alias
log_category: app-errors
collector_key: SUBQUERY_MISSING_ALIAS
tooltip: The query is missing an alias name for a subquery
urgency: low
sqlstate: "42601 (Class 42 â€” Syntax Error or Access Rule Violation: syntax_error)"
---

**Example Postgres Log Output:**

```
ERROR: subquery in FROM must have an alias at character 15
HINT: For example, FROM (SELECT ...) [AS] foo.
STATEMENT: SELECT * FROM (SELECT 1)
```

**Explanation:**

This log event is closely related to a syntax error, but its a distinct issue
that many people run into, as its not immediately obvious that queries need to
be written this way.

For example, the following query will produce this error:

```sql
SELECT * FROM (SELECT uid, COUNT(*) AS count FROM my_table GROUP BY 1 ORDER BY 2) LIMIT 1;
```

The correct fix is to give the subquery in the FROM clause an alias (i.e. a name),
so that it can be uniquely identified in the query. You have to do this even if you
are not going to reference the name anywhere, like this:

```sql
SELECT * FROM (SELECT uid, COUNT(*) AS count FROM my_table GROUP BY 1 ORDER BY 2) AS x LIMIT 1;
```

This error usually occurs in development or test environments, as queries written
like this will always error out when run, independent of the query plan or values passed in.

**Recommended Action:**

Add an alias name of your choice to the subquery in the SQL thats generated by your application.

**Learn More:**

* [Postgres Documentation: Data Types: Arrays - Array Value Input](https://www.postgresql.org/docs/current/static/arrays.html#ARRAYS-INPUT)
* [Postgres Mailing List: Re: subquery in FROM must have an alias](https://www.postgresql.org/message-id/20080928071213.G14875%40megazone.bigpanda.com)
