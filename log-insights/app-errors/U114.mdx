---
log_classification: U114
log_title: Malformed array literal
log_category: app-errors
collector_key: MALFORMED_ARRAY_LITERAL
tooltip: The array value has the wrong formatting / syntax
urgency: low
sqlstate: "22P02 (Class 22 â€” Data Exception: invalid_text_representation)"
---

**Example Postgres Log Output:**

```
ERROR: malformed array literal: "a, b" at character 33
DETAIL: Array value must start with \"{\" or dimension information.
STATEMENT: SELECT * FROM x WHERE id = ANY ('a, b')
```

**Explanation:**

This error usually occurs when array values get passed to Postgres, but the format / syntax
of the array is not correct for Postgres.

Sometimes this can be seen when an application developer uses e.g. the JSON
array syntax of `[1, 2, 3]` instead of the Postgres syntax of `{1, 2, 3}`, or when
the values get passed in without the brackets (i.e. `1, 2, 3`).

**Recommended Action:**

Fix the application code to correctly format array values.

**Learn More:**

* [Postgres Documentation: Data Types: Arrays - Array Value Input](https://www.postgresql.org/docs/current/static/arrays.html#ARRAYS-INPUT)
