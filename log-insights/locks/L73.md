---
work_in_progress: true
log_classification: L73
log_title: Deadlock Detected
log_category: locks
collector_key: LOCK_DEADLOCK_DETECTED
tooltip: ?1
urgency: medium
sqlstate: "40P01 (Class 40 - Transaction Rollback: deadlock_detected)"
color: "#ff0000"
---

**Example Postgres Log Output:**

```
LOG: process 123 detected deadlock while waiting for AccessExclusiveLock on extension of relation 666 of database 123 after 456.000 ms
ERROR: deadlock detected
DETAIL: Process 9788 waits for ShareLock on transaction 1035; blocked by process 91.
Process 91 waits for ShareLock on transaction 1045; blocked by process 98.
Process 98: INSERT INTO x (id, name, email) VALUES (1, 'ABC', 'abc@example.com') ON CONFLICT(email) DO UPDATE SET name = excluded.name, /* truncated */
Process 91: INSERT INTO x (id, name, email) VALUES (1, 'ABC', 'abc@example.com') ON CONFLICT(email) DO UPDATE SET name = excluded.name, /* truncated */"
HINT: See server log for query details.
CONTEXT: while inserting index tuple (1,42) in relation "x"
STATEMENT: INSERT INTO x (id, name, email) VALUES (1, 'ABC', 'abc@example.com') ON CONFLICT(email) DO UPDATE SET name = excluded.name RETURNING id
```

**Explanation:**

...

**Recommended Action:**

...

**Learn More:**

No additional resources available.
