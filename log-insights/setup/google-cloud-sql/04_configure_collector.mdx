---
title: 'Step 4: Configure Collector'
install_track_title: 'Log Insights: Setup (Google Cloud SQL)'
backlink_href: /docs/log-insights/setup/google-cloud-sql
backlink_title: 'Log Insights: Setup (Google Cloud SQL)'
---

Sign in to your virtual machine, and add the following configuration setting:

```
gcp_pubsub_subscription: projects/PROJECT_ID/subscriptions/SUBSCRIPTION_ID
```

This is the value of "Subscription name" you can see when clicking on the details for the Pub/Sub subscriber we created earlier.

Now test the collector configuration:

```
sudo pganalyze-collector --test --reload
```

This should return something like the following:

```
I [server1] Testing statistics collection...
I [server1]   Test submission successful (29.3 KB received, server abc123)
I [server1] Testing activity snapshots...
I [server1]   Test submission successful (2.44 KB received, server abc123)
I [server1] Testing log collection (Google Cloud SQL)...
I [server1]   Log test successful
I Successfully reloaded pganalyze collector (PID 123)
```

You will start seeing log data in pganalyze Log Insights within a few minutes.

We recommend setting up [Log-based EXPLAIN](/docs/explain/setup/log_explain) as follow-up step, to automatically EXPLAIN slow queries in Postgres.
