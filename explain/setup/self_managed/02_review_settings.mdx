---
title: 'Step 2: Review auto_explain settings'
install_track_title: 'Automated EXPLAIN: Setup (Self-Managed)'
backlink_href: /docs/explain/setup/auto_explain
backlink_title: 'Automated EXPLAIN: Setup'
---

import PgSettingsRecommendations, { getAutoExplainRecommendations } from "../../../components/PgSettingsRecommendations";

import SettingsChangePublic from './_settings_change_public.mdx'
import SettingsChangeInApp from './_settings_change_in_app.mdx'

export const AutoExplainLink = ({version, children}) => {
  return <a href={`https://www.postgresql.org/docs/${version ?? 'current'}/auto-explain.html`}>{children}</a>
}

There are a number of `auto_explain` settings that allow you to configure which queries
will generate EXPLAIN plans. You can read the full Postgres documentation about
these <AutoExplainLink version={props.pgMajorVersion}>here</AutoExplainLink>.
The right configuration will depend on your server and workload,
but we've found the following is a good starting point:

<PgSettingsRecommendations mode='alter system' recommendations={getAutoExplainRecommendations(props.settings)} />

Run the above commands as a Postgres superuser.

<PublicOnly>
  <SettingsChangePublic />
</PublicOnly>
<InAppOnly>
  <SettingsChangeInApp autoExplainEnabled={props.autoExplainEnabled} />
</InAppOnly>
