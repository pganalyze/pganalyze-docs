---
title: 'Step 1: Overview'
install_track_title: 'Automated EXPLAIN: Setup (log-based)'
backlink_href: /docs/explain/setup/log_explain
backlink_title: 'Automated EXPLAIN: Setup (log-based)'
---

The log-based EXPLAIN mechanism is an alternative to the `auto_explain` module for EXPLAIN plan collection.

This method relies on Postgres logging slow queries to the logs, based on the `log_min_duration_statement` setting.

For example, when we have configured `log_min_duration_statement = 1000`, we will get output like the following
for all queries slower than 1,000 ms:

```
LOG: duration: 3205.800 ms execute a2: SELECT "servers".* FROM "servers" WHERE "servers"."id" = 1 LIMIT 2
```

When the pganalyze collector sees these events, it runs EXPLAIN automatically, so you get the EXPLAIN plan for
each slow query, together with the log event.

Note that Log-based EXPLAIN method has the following limitations:

* The collector only runs EXPLAIN, not EXPLAIN ANALYZE (to avoid any performance impact)
  * execution metrics, such as I/O time and Buffer counts are not captured
* The pganalyze monitoring user needs to have sufficient permissions to run EXPLAIN on the query
* Plans may sometimes be different from the executed plans due to
  * changes in indexes
  * changes in statistics
  * differences in configuration settings (e.g., role-specific or session-specific settings)
* Plans for some queries may not be obtainable due to
  * use of temporary tables
  * query parameter handling limitations
  * differences in `search_path` or other configuration settings

<Link className='btn btn-success' to='02_create_helper_functions'>
  Proceed to Step 2: Create helper functions
</Link>
