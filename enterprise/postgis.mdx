---
title: 'Enterprise Server: Integrating PostGIS with pganalyze'
backlink_href: /docs/enterprise
backlink_title: 'pganalyze Enterprise Server'
---

PostGIS is a powerful spatial database extention for PostgreSQL, allowing you to store and query geographic objects. 
If you are using PostGIS with your PostgreSQL database, pganalyze can analyze queries with PostGIS specific datatypes and 
functions as long as it is installed in the pganalyze Enterprise Server image.

For licensing reasons, PostGIS is not included in the pganalyze Enterprise Server image that we provide to Enterprise users.
However, users can create their own custom container image based on the official pganalyze Enterprise Server imagem and 
install PostGIS in that image using the sample Dockerfile below.

Replace `quay.io/pganalyze/enterprise:v2005.03.4` with the version of the pganalyze Enterprise Server image you are using.

**Note:** You must be using a version of pganalyze Enterprise Server that is at least v2005.03.4 to integrate PostGIS with
your own custom image.

<CodeBlock>
{`FROM quay.io/pganalyze/enterprise:v2005.03.3
 
RUN apt-get update && apt-get install wget -y
 
RUN mkdir vendor/postgis_mock
RUN wget https://raw.githubusercontent.com/pganalyze/postgis_mock/refs/heads/main/postgis_mock.sql -O /home/app/vendor/postgis_mock/postgis_mock.sql
 
WORKDIR /home/app/
ENTRYPOINT ["/docker-entrypoint.enterprise.sh"]
CMD ["/sbin/my_init"]
EXPOSE 5000`}
</CodeBlock>